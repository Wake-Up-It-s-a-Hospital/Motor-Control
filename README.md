# 모터 제어 및 추가 기능 구현

이 프로젝트는 환자를 자동으로 추종하는 **스마트 링거폴대**의 일부 기능을 구현한 내용입니다.  
본 문서에서는 제가 담당한 **모터 제어 및 추가 기능 구현** 부분을 설명합니다.

---

## 🛠 사용 장비 및 환경
- **MCU** : Nucleo-F746ZG
- **모터** : GB37Y3530-43 × 2 ,  MDD20A
- **제어 방식** : PWM 제어 (차동 구동 운동학 기반)
- **센서** : HC-SR04 초음파 센서 × 4
- **통신 방식** : UART (유선)

---

## 🚗 모터 제어
- **PWM**을 사용하여 2개의 DC 모터를 구동.
- **차동 구동 운동학**(Differential Drive Kinematics)을 기반으로 전진, 후진, 회전 동작 구현.
- **엔코더 미사용** → 속도/위치 피드백이 없어 **PID 제어는 적용하지 않음**.

---

## 📌 참고사항
- 차동 구동 운동학 공식
  - v_left = {V - (ω * b / 2)} / r
  - v_right = {V + (ω * b / 2)} / r
  - V : 선속도 (linear velocity)
  - ω : 각속도 (angular velocity)
  - b : 바퀴 간 거리 (wheelbase)
  - r : 바퀴의 반지름 (radius of wheel)
- PID 제어 미적용
  - 엔코더 없이 개방 루프 제어로만 구동.

---

## ⚙ 추가 기능
1. **장애물 감지**
   - HC-SR04 초음파 센서 4개를 사용.
   - **교차 작동 방식**으로 동작시켜 센서 간 간섭(노이즈) 최소화.
   
2. **타 보드와의 유선 UART 통신**
   - 상태 정보 및 제어 명령 교환.
   
3. **외부 신호 기반 모터 전원 제어**
   - 타 보드에서 전원 제어 신호 수신 시 모터 구동 전원 차단/허용.
