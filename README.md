환자 추종 스마트 링거폴대 - 모터 제어 및 추가 기능 구현
이 프로젝트는 환자를 자동으로 추종하는 스마트 링거폴대의 일부 기능을 구현한 내용입니다.
본 문서에서는 제가 담당한 모터 제어 및 추가 기능 구현 부분을 설명합니다.

🛠 사용 장비 및 환경
MCU : Nucleo-F746ZG

모터 : DC 모터 × 2

제어 방식 : PWM 제어 (차동 구동 운동학 기반)

센서 : HC-SR04 초음파 센서 × 4

통신 방식 : UART (유선)

🚗 모터 제어
PWM을 사용하여 2개의 DC 모터를 구동.

차동 구동 운동학(Differential Drive Kinematics)을 기반으로 전진, 후진, 회전 동작 구현.

엔코더 미사용 → 속도/위치 피드백이 없어 PID 제어는 적용하지 않음.

⚙ 추가 기능
장애물 감지

HC-SR04 초음파 센서 4개를 사용.

교차 작동 방식으로 동작시켜 센서 간 간섭(노이즈) 최소화.

타 보드와의 유선 UART 통신

상태 정보 및 제어 명령 교환.

외부 신호 기반 모터 전원 제어

타 보드에서 전원 제어 신호 수신 시 모터 구동 전원 차단/허용.

📂 디렉토리 구조 예시
plaintext
복사
편집
├── src/
│   ├── motor_control.c      # 모터 제어 로직
│   ├── ultrasonic.c         # 초음파 센서 교차 동작 구현
│   ├── uart_comm.c          # UART 통신 기능
│   └── power_control.c      # 외부 신호 기반 모터 전원 제어
├── include/
│   ├── motor_control.h
│   ├── ultrasonic.h
│   ├── uart_comm.h
│   └── power_control.h
└── README.md
📌 참고 사항
차동 구동 운동학 공식

𝑣
𝑙
𝑒
𝑓
𝑡
=
𝑣
−
𝜔
⋅
𝐿
2
,
𝑣
𝑟
𝑖
𝑔
ℎ
𝑡
=
𝑣
+
𝜔
⋅
𝐿
2
v 
left
​
 =v− 
2
ω⋅L
​
 ,v 
right
​
 =v+ 
2
ω⋅L
​
 
𝑣
v: 선속도

𝜔
ω: 각속도

𝐿
L: 바퀴 간 거리

PID 제어 미적용 : 엔코더 없이 개방 루프(Open-loop) 제어로만 구동.

📷 시연 예시
(여기에 구동 영상이나 사진 첨부 가능)

📜 라이선스
이 프로젝트의 라이선스는 상위 프로젝트 정책을 따릅니다.
